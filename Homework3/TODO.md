# Основные задачи

## Критерии задания
### Настройки приложения
- [x] Входящие запросы логируются через middleware
- [x] Swagger возвращает XML-комментарии к контроллерам
- [x] К внешнему API доступ через HttpClient
  - [ ] **NB!** HttpClient логируется через Audit.Http
- [x] Централизованная обработка исключений в статус-коды
  - [x] Кастомные исключения
    - [ ] ApiRequestLimitException -> 429
      - [ ] Ошибка логируется
    - [ ] CurrencyNotFoundException -> 404
      - [x] Ошибка не логируется
    - [x] Other -> 500
      - [ ] Ошибка логируется
- [x] Настройки подтягиваются автоматически и обновляются при модификации файла настроек

### Взаимодействие с API
- [x] API key хранится локально и игнорируется гитом.
- [x] Метод получения настроек GET /settings
- [x] Реализованы методы взаимодействия с API
  - [x] GET /currency
  - [x] GET /currency/{currencyCode}
  - [x] GET /currency/{currencyCode}/{date}
    - [ ] **NB!** Настроен regex даты
      - Ограничить значения дней и месяцев
- [x] Возвращаемые данные стандартизированы
  - [x] Возвращает JSON требуемого вида
  - [x] Округляет до знака после запятой согласно конфигурации

### Документация
- [ ] Контроллеры описаны
  - [x] Описание контроллера
  - [ ] Описание методов котроллера
  - [ ] Описание всех входных параметров метода контроллера
  - [ ] Описание всех возможных кодов ответа у метода контроллера
  - [x] Описание для моделей, которые используются в качестве возвращаемого значения у методов контроллера
  - [ ] Описание свойств моделей


## Личные хотелки

- [ ] Заставить HealthCheckController проверять жизнеспособность внешнего API
 
### Архитектура
- [ ] Хранить сущности и DTO нормально
- [ ] Вынести из сервиса CurrencyService взаимодействие со внешним API и валидацию статус-кодов в отдельный класс.

## Следующий шаг
- Разобраться с Audit.Http
- Настроить Serilog
  - Логировать исключения
- Описать контроллер